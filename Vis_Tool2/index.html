<!DOCTYPE html>
<html>

<head>
  <meta charset=utf-8>

  <title>VAST Challenge 2017 -- Mini-Challenge 3</title>

  <!-- CSS Libraries -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" />
  <!-- CSS Source -->
  <link rel="stylesheet" href="./src/css/main.css" />

  <!-- JS Libraries -->
  <script src="lib/js/jquery-2.2.4.min.js"></script>
  <script src="lib/js/three.min.js"></script>
  <script src="lib/js/bootstrap.min.js"></script>
  <script src="https://d3js.org/d3.v4.min.js"></script>
  <script src="lib/js/queue.v1.min.js"></script>
  <script src="lib/js/AxisHelper.js"></script>
  <script src="lib/js/OrbitControls.js"></script>
  <script src="lib/js/Detector.js"></script>
  <script src="lib/js/stats.min.js"></script>
  <script src="lib/js/DragControls.js"></script>
  <script src="lib/js/TransformControls.js"></script>

  <!-- JS Source -->
  <script src="./src/js/checkboxLogic.js"></script>
  <script src="./src/js/main.js"></script>

</head>
<div class="text-center">
  <h1><kbd>Boonsong Lekagul Nature Preserve</kbd></h1>
  <p><kbd>VAST Challenge 2017 -- Mini-Challenge 3<kbd</p>
</div>

<body onload="App.start();">
  <div class="container-fluid">
    <div class="class">
      <div class="particleDiv">
        <div id="info"><kbd> Satellite Images </kbd></div>
<div id="scene"></div>
<canvas id="SAT_img" width="651" height="651"></canvas>
<script>
    var canvas = document.getElementById('SAT_img');
    var ctx = canvas.getContext('2d');
    var data = [];
    var bounds = {};

    // read the csv file
    d3.csv("data/image01_2014_03_17.csv")
    // iterate over the rows of the csv file
        .row(function(d) {
            // get the min bounds
            bounds.minX = Math.min(bounds.minX || Infinity, d.X);
            bounds.minY = Math.min(bounds.minY || Infinity, d.Y);

            // get the max bounds
            bounds.maxX = Math.max(bounds.maxX || -Infinity, d.X);
            bounds.maxY = Math.max(bounds.maxY || -Infinity, d.Y);

            // add the element to the data collection
            data.push({
                // Position
                X: Number(d.X),
                Y: Number(d.Y),
                // RGB stored somewhere
                R: Number(d.B3),
                G: Number(d.B2),
                B: Number(d.B1)
            });
        })
        // when done loading
        .get(function() {
            // create the image
            var imgdata = ctx.getImageData(0,0, 651, 651);
            var imgdatalen = imgdata.data.length;
            for(var i=0;i<imgdatalen/4;i++){  //iterate over every pixel in the canvas
              imgdata.data[4*i] = data[i].R;    // RED (0-255)
              imgdata.data[4*i+1] = data[i].G;    // GREEN (0-255)
              imgdata.data[4*i+2] = data[i].B;    // BLUE (0-255)
              imgdata.data[4*i+3] = 255;  // APLHA (0-255)
            }
            ctx.putImageData(imgdata,0,0);

        });
</script>

<div class="checkBoxes col-md-10">
  Mar 17th, 2014: <input type="checkbox" id="Mar14">
  Aug 24th, 2014: <input type="checkbox" id="Aug14">
  Nov 28th, 2014: <input type="checkbox" id="Nov14">
  Dec 30th, 2014: <input type="checkbox" id="Dec14">
  Feb 15th, 2015: <input type="checkbox" id="Feb15">
  Jun 24th, 2015: <input type="checkbox" id="Jun15">
  Sep 12th, 2015: <input type="checkbox" id="Sep15">
  Nov 15th, 2015: <input type="checkbox" id="Nov15">
</div>
<div class="checkBoxes2 col-md-10">
  Mar 6th, 2016: <input type="checkbox" id="Mar16">
  Jun 26th, 2016: <input type="checkbox" id="Jun16">
  Sep 6th, 2016: <input type="checkbox" id="Sep16">
  Dec 19th, 2016: <input type="checkbox" id="Dec16">
</div>
<div class="renderButton col-md-10">
  <button onclick="cLogic()">Render</button>
  <p id="demo"></p>
</div>
</div>
</div>
</div>

</body>

</html>
